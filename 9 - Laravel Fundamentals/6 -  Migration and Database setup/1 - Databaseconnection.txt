LARAVEL COMPLETE NOTES â€” STEP 6: MIGRATIONS & DATABASE SETUP
============================================================

ğŸ§  WHAT ARE MIGRATIONS?
-----------------------
Migrations are like "version control" for your database.
They allow you to create, modify, and manage your database tables using PHP code instead of manually creating them in phpMyAdmin.

âœ… Think of it like this:
   - Instead of clicking buttons to make tables,
     you just write instructions (in PHP) and Laravel will handle the database structure for you.

ğŸ“¦ Example:
   A migration can say â€œcreate a table named â€˜studentsâ€™ with name and email columns.â€

---

ğŸ§© WHERE MIGRATIONS ARE FOUND
-----------------------------
They are stored inside this folder:
   database/migrations/

Each migration file contains two main functions:

1. up() â†’ runs when you migrate (creates the table)
2. down() â†’ runs when you rollback (deletes the table)

Example structure:
   public function up(): void {
       Schema::create('students', function (Blueprint $table) {
           $table->id();
           $table->string('name');
           $table->string('email');
           $table->timestamps();
       });
   }

---

âš™ï¸ STEP 1 â€” SET UP DATABASE CONNECTION
--------------------------------------
1. Open your projectâ€™s .env file (root of your Laravel project)
2. Find this section:

   DB_CONNECTION=mysql
   DB_HOST=127.0.0.1
   DB_PORT=3306
   DB_DATABASE=laravel
   DB_USERNAME=root
   DB_PASSWORD=

3. Change it to your database details (example):
   DB_CONNECTION=mysql
   DB_HOST=127.0.0.1
   DB_PORT=3306
   DB_DATABASE=studylanaveldb
   DB_USERNAME=root
   DB_PASSWORD=

4. Open phpMyAdmin:
   - Go to http://localhost/phpmyadmin
   - Click â€œNewâ€
   - Create a database named: studylanaveldb
   - Click â€œCreateâ€

âœ… Laravel is now connected to your MySQL database.

---

ğŸ—ï¸ STEP 2 â€” CREATE A MIGRATION
-------------------------------
Run this command in your terminal:
   php artisan make:migration create_students_table

This will create a file inside:
   database/migrations/
with a name like:
   2025_10_05_123456_create_students_table.php

Open that file, and youâ€™ll see something like this:

   public function up(): void {
       Schema::create('students', function (Blueprint $table) {
           $table->id();
           $table->string('name');
           $table->string('email');
           $table->timestamps();
       });
   }

This code means:
âœ… Create a table named â€œstudentsâ€
âœ… Add columns:
   - id (auto increment)
   - name (text)
   - email (text)
   - timestamps (created_at and updated_at)

---

â–¶ï¸ STEP 3 â€” RUN THE MIGRATIONS
-------------------------------
Run this command:
   php artisan migrate

Laravel will automatically create the tables in your database:
   - users
   - password_resets
   - failed_jobs
   - students (your new one)

You can confirm this by checking phpMyAdmin â†’ studylanaveldb â†’ tables

---

ğŸ§¹ STEP 4 â€” MANAGING MIGRATIONS
-------------------------------
If you want to undo or redo migrations, use these commands:

ğŸ” Rollback last batch:
   php artisan migrate:rollback

ğŸ—‘ï¸ Reset all migrations:
   php artisan migrate:reset

ğŸ”„ Fresh start (drops all tables and migrates again):
   php artisan migrate:fresh

---

ğŸ“˜ EXTRA TIPS
-------------
1. Every time you make changes to your migration file, you need to run:
   php artisan migrate:fresh
   (This will refresh the database with the updated structure.)

2. If you want to add new columns later, you can create a new migration file:
   php artisan make:migration add_age_to_students_table --table=students

3. Use clear and descriptive names for your tables and migrations.

4. Avoid editing old migration files once theyâ€™re migrated to production databases â€” 
   instead, create a new migration that modifies the existing table.

---

âœ… SUMMARY
----------
Migrations allow you to:
- Build database tables using PHP code.
- Version-control your database structure.
- Share database changes with your whole team easily.
- Reset and rebuild your database anytime with just one command.

ğŸ¯ Common Commands:
- Create a migration â†’ php artisan make:migration create_table_name
- Run all migrations â†’ php artisan migrate
- Rollback last â†’ php artisan migrate:rollback
- Reset all â†’ php artisan migrate:reset
- Fresh start â†’ php artisan migrate:fresh

---

ğŸ’¡ EXAMPLE WORKFLOW
-------------------
1. Create the database in phpMyAdmin.
2. Update .env with database info.
3. Make a migration: php artisan make:migration create_students_table
4. Edit the migration file to define table columns.
5. Run: php artisan migrate
6. Check the result in phpMyAdmin.

Now your Laravel project can talk to your database! ğŸ‰
